var autonumericInputBinding=new Shiny.InputBinding;$.extend(autonumericInputBinding,{find:function(e){return $(e).find(".autonumeric-input")},initialize:function(e){var n=$(e).parent().find('script[data-for="'+e.id+'"]');(n=JSON.parse(n.html())).hasOwnProperty("format")?this[e.id]=new AutoNumeric(e,n.format):this[e.id]=new AutoNumeric(e,n.options)},getValue:function(e){return this[e.id].getNumber()},subscribe:function(e,n){$(e).on("change.autonumericInputBinding keyup.autonumericInputBinding input.autonumericInputBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".autonumericInputBinding")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this[e.id].set(n.value),n.hasOwnProperty("format")&&this[e.id].update(n.format),n.hasOwnProperty("options")&&this[e.id].update(n.options),n.hasOwnProperty("label")&&$(e).parent().parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(n.label),$(e).trigger("change")},getState:function(e){return{label:$(e).parent().parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(),value:this[e.id].getNumber(),options:this[e.id].getSettings()}},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(autonumericInputBinding,"shinyWidgets.autonumericInput");var awesomeCheckboxBinding=new Shiny.InputBinding;$.extend(awesomeCheckboxBinding,{find:function(e){return $(e).find(".awesome-checkbox-class")},getId:function(e){return e.id},getValue:function(e){return $('input:checkbox[name="'+Shiny.$escape(e.id)+'"]:checked').val()},setValue:function(e,n){$('input:checkbox[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n)+'"]').prop("checked",!0)},subscribe:function(e,n){$(e).on("change.awesomeCheckboxBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".awesomeCheckboxBinding")},getState:function(e){for(var n=$('input:checkbox[name="'+Shiny.$escape(e.id)+'"]'),i=new Array(n.length),t=0;t<i.length;t++)i[t]={value:n[t].value,label:this._getLabel(n[t])};return{label:$(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(),value:this.getValue(e),options:i}},receiveMessage:function(e,n){var i=$(e);n.hasOwnProperty("options")&&(i.find("div.shiny-options-group").remove(),i.find("label.checkbox").remove(),i.append(n.options)),n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("label")&&$(e).find('label[for="'+Shiny.$escape(e.id)+Shiny.$escape(n.value)+'"]').text(n.label),$(e).trigger("change")}}),Shiny.inputBindings.register(awesomeCheckboxBinding,"shinyWidgets.awesomeCheckbox");var awesomeRadioBinding=new Shiny.InputBinding;$.extend(awesomeRadioBinding,{find:function(e){return $(e).find(".awesome-bootstrap-radio")},getId:function(e){return e.id},getValue:function(e){return $('input:radio[name="'+Shiny.$escape(e.id)+'"]:checked').val()},setValue:function(e,n){$('input:radio[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n)+'"]').prop("checked",!0)},subscribe:function(e,n){$(e).on("change.awesomeRadioBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".awesomeRadioBinding")},getState:function(e){for(var n=$('input:radio[name="'+Shiny.$escape(e.id)+'"]'),i=new Array(n.length),t=0;t<i.length;t++)i[t]={value:n[t].value,label:this._getLabel(n[t])};return{label:$(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(),value:this.getValue(e),options:i}},receiveMessage:function(e,n){var i=$(e);n.hasOwnProperty("options")&&(i.find("div.shiny-options-group").remove(),i.find("label.radio").remove(),i.append(n.options)),n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("label")&&$(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(n.label),$(e).trigger("change")}}),Shiny.inputBindings.register(awesomeRadioBinding,"shinyWidgets.awesomeRadio"),$((function(){$(".sw-switchInput").each((function(){$(this).bootstrapSwitch()}))}));var switchInputBinding=new Shiny.InputBinding;$.extend(switchInputBinding,{find:function(e){return $(e).find(".sw-switchInput")},getId:function(e){return e.id},getValue:function(e){return e.checked},setValue:function(e,n){e.checked=n},subscribe:function(e,n){$(e).on("switchChange.bootstrapSwitch",(function(e){n(!1)}))},unsubscribe:function(e){$(e).off(".switchInputBinding")},getState:function(e){return{value:e.checked}},receiveMessage:function(e,n){n.hasOwnProperty("value")&&(e.checked=n.value),n.hasOwnProperty("label")&&$(e).bootstrapSwitch("labelText",n.label),n.hasOwnProperty("offLabel")&&$(e).bootstrapSwitch("offText",n.offLabel),n.hasOwnProperty("onLabel")&&$(e).bootstrapSwitch("onText",n.onLabel),n.hasOwnProperty("onStatus")&&$(e).bootstrapSwitch("onColor",n.onStatus),n.hasOwnProperty("offStatus")&&$(e).bootstrapSwitch("offColor",n.offStatus),n.hasOwnProperty("disabled")&&$(e).bootstrapSwitch("disabled",n.disabled,n.disabled),$(e).trigger("change")},initialize:function(e){$(e).bootstrapSwitch()}}),Shiny.inputBindings.register(switchInputBinding,"shinyWidgets.switchInput"),document.addEventListener("click",(function(e){"[object HTMLButtonElement]"==document.activeElement.toString()&document.activeElement.classList.contains("checkbtn")&&document.activeElement.blur()}));var checkboxGroupButtonsBinding=new Shiny.InputBinding;$.extend(checkboxGroupButtonsBinding,{find:function(e){return $(e).find(".checkboxGroupButtons")},getId:function(e){return e.id},getValue:function(e){for(var n=$('input:checkbox[name="'+Shiny.$escape(e.id)+'"]:checked'),i=new Array(n.length),t=0;t<n.length;t++)i[t]=n[t].value;return i},setValue:function(e,n){if($('input:checkbox[name="'+Shiny.$escape(e.id)+'"]').prop("checked",!1),$('input:checkbox[name="'+Shiny.$escape(e.id)+'"]').parent().removeClass("active"),$('input:checkbox[name="'+Shiny.$escape(e.id)+'"]').parent().blur(),n instanceof Array)for(var i=0;i<n.length;i++)$('input:checkbox[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n[i])+'"]').parent().addClass("active"),$('input:checkbox[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n[i])+'"]').prop("checked",!0);else $('input:checkbox[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n)+'"]').parent().addClass("active"),$('input:checkbox[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n)+'"]').prop("checked",!0)},subscribe:function(e,n){$(e).on("change.checkboxGroupButtonsBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".checkboxGroupButtonsBinding")},getState:function(e){for(var n=$('input:checkbox[name="'+Shiny.$escape(e.id)+'"]'),i=new Array(n.length),t=0;t<i.length;t++)i[t]={value:n[t].value};return{value:this.getValue(e),options:i}},receiveMessage:function(e,n){var i=$(e);if(n.hasOwnProperty("options")&&(i.find("div.btn-group-container-sw").empty(),i.find("div.btn-group-container-sw").append(n.options)),n.hasOwnProperty("selected")&&this.setValue(e,n.selected),n.hasOwnProperty("label")&&i.find('label[for="'+Shiny.$escape(e.id)+'"]').text(n.label),n.disabled?(i.find("button").attr("disabled","disabled"),i.find("button").addClass("disabled")):(i.find("button").removeAttr("disabled"),i.find("button").removeClass("disabled")),n.hasOwnProperty("disabledChoices"))for(var t=0;t<n.disabledChoices.length;t++)$('input:checkbox[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n.disabledChoices[t])+'"]').parent().attr("disabled","disabled").addClass("disabled");$(e).trigger("change")}}),Shiny.inputBindings.register(checkboxGroupButtonsBinding,"shiny.checkboxGroupButtonsInput");var radioGroupButtonsBinding=new Shiny.InputBinding;function tron_skin(){if("tron"==this.$.data("skin")){this.cursorExt=.3;var e,n=this.arc(this.cv);return this.g.lineWidth=this.lineWidth,this.o.displayPrevious&&(e=this.arc(this.v),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,e.s,e.e,e.d),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,n.s,n.e,n.d),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}}$.extend(radioGroupButtonsBinding,{find:function(e){return $(e).find(".radioGroupButtons")},getId:function(e){return e.id},getValue:function(e){var n=$('input:radio[name="'+Shiny.$escape(e.id)+'"]:checked').val();return void 0===n?null:n},setValue:function(e,n){$('input:radio[name="'+Shiny.$escape(e.id)+'"]').parent().removeClass("active"),$('input:radio[name="'+Shiny.$escape(e.id)+'"]').prop("checked",!1),n.length>0&&($('input:radio[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n)+'"]').prop("checked",!0),$('input:radio[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n)+'"]').parent().addClass("active"))},subscribe:function(e,n){$(e).on("change.radioGroupButtonsBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".radioGroupButtonsBinding")},getState:function(e){for(var n=$('input:radio[name="'+Shiny.$escape(e.id)+'"]'),i=new Array(n.length),t=0;t<i.length;t++)i[t]={value:n[t].value,label:this._getLabel(n[t])};return{label:$(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(),value:this.getValue(e),options:i}},receiveMessage:function(e,n){var i=$(e);if(n.hasOwnProperty("options")&&(i.find("div.btn-group-container-sw").empty(),i.find("div.btn-group-container-sw").append(n.options)),n.hasOwnProperty("selected")&&this.setValue(e,n.selected),n.hasOwnProperty("label")&&$(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(n.label),n.disabled?(i.find("button").attr("disabled","disabled"),i.find("button").addClass("disabled")):(i.find("button").removeAttr("disabled"),i.find("button").removeClass("disabled")),n.hasOwnProperty("disabledChoices"))for(var t=0;t<n.disabledChoices.length;t++)$('input:radio[name="'+Shiny.$escape(e.id)+'"][value="'+Shiny.$escape(n.disabledChoices[t])+'"]').parent().attr("disabled","disabled").addClass("disabled");$(e).trigger("change")}}),Shiny.inputBindings.register(radioGroupButtonsBinding,"shinyWidgets.radioGroupButtonsInput");var knobInputBinding=new Shiny.InputBinding;$.extend(knobInputBinding,{find:function(e){return $(e).find(".knob-input")},initialize:function(e){var n=$(e).data("value"),i=$(e).data("post");i=void 0===i?"":i;var t,a=$(e).data("pre");a=void 0===a?"":a,e.value=n,t="tron"===$(e).data("skin")?tron_skin:function(){this.i.val(a+this.cv+i)},$(e).knob({draw:t,format:function(e){return a+e+i}})},getValue:function(e){var n=e.value,i=$(e).data("pre");if(void 0!==i){var t=new RegExp("^"+i);n=n.replace(t,"")}var a=$(e).data("post");if(void 0!==a){var r=new RegExp(a+"$");n=n.replace(r,"")}return parseFloat(n)},subscribe:function(e,n){$(e).data("immediate")?($(e).on("keyup.knobInputBinding",(function(e){n(!0)})),$(e).trigger("configure",{change:function(e){n(!0)},release:function(e){n(!1)}}),$(e).on("change.knobInputBinding",(function(e){n(!0)}))):($(e).on("keyup.knobInputBinding",(function(e){n(!0)})),$(e).trigger("configure",{release:function(e){n(!1)}}))},unsubscribe:function(e){$(e).off(".knobInputBinding")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&$(e).val(n.value).trigger("change"),n.hasOwnProperty("readOnly")&&$(e).trigger("configure",{readOnly:n.readOnly}),n.hasOwnProperty("options")&&$(e).trigger("configure",n.options),n.hasOwnProperty("label")&&$(e).parent().parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(n.label),$(e).trigger("change")},getState:function(e){return{label:$(e).parent().parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(),value:e.value}},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(knobInputBinding,"shinyWidgets.knobInput");var multiInputBinding=new Shiny.InputBinding;$.extend(multiInputBinding,{initialize:function(e){var n=$(e).parent().find('script[data-for="'+Shiny.$escape(e.id)+'"]');n=JSON.parse(n.html()),$(e).multi(n),$(e).trigger("change")},find:function(e){return $(e).find(".multijs")},getId:function(e){return e.id},getValue:function(e){return $(e).val()},setValue:function(e,n){$(e).val(n),$(e).multi(),$(e).trigger("change")},getState:function(e){for(var n=new Array(e.length),i=0;i<e.length;i++)n[i]={value:e[i].value,label:e[i].label};return{label:$(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(),value:this.getValue(e),options:n}},receiveMessage:function(e,n){var i=$(e);n.hasOwnProperty("options")&&i.empty().append(n.options),n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("label")&&$(e).parent().parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(n.label);var t=new Event("change");$(e).multi(),i.get(0).dispatchEvent(t),i.trigger("change")},subscribe:function(e,n){$(e).on("change",(function(e){n()}))},unsubscribe:function(e){$(e).off(".multiInputBinding")}}),Shiny.inputBindings.register(multiInputBinding,"shinyWidgets.multiInput");var noUiSliderBinding=new Shiny.InputBinding;function updateLabel(e,n){if(void 0!==e){if(1!==n.length)throw new Error("labelNode must be of length 1");$.isArray(e)&&0===e.length?n.addClass("shiny-label-null"):(n.text(e),n.removeClass("shiny-label-null"))}}function addError(e){$(e).parent().parent().addClass("has-error")}function removeError(e){$(e).parent().parent().removeClass("has-error")}function showHelp(e){$(e).parent().parent().find(".help-block").removeClass("hidden").addClass("show")}function hideHelp(e){$(e).parent().parent().find(".help-block").removeClass("show").addClass("hidden")}$.extend(noUiSliderBinding,{find:function(e){return $(e).find(".sw-no-ui-slider")},getId:function(e){return e.id},getType:function(e){var n=$(e).data("data-type");return"date"===n?"shiny.date":"datetime"===n&&"shiny.datetime"},getValue:function(e){var n,i=document.getElementById(e.id).noUiSlider.get(),t=$(e).parent().find('script[data-for="'+Shiny.$escape(e.id)+'"]');if(void 0!==(t=JSON.parse(t.html())).format){var a=wNumb(t.format);n=Array.isArray(i)?i.map(a.from):a.from(i)}else n=Array.isArray(i)?i.map(Number):Number(i);return n},setValue:function(e,n){document.getElementById(e.id).noUiSlider.set(n)},subscribe:function(e,n){var i=document.getElementById(e.id);"end"==$("#"+e.id).data("update")?(i.noUiSlider.on("change",(function(e){n()})),i.noUiSlider.on("set",(function(e){n()}))):(i.noUiSlider.on("slide",(function(e){n()})),i.noUiSlider.on("set",(function(e){n()})))},unsubscribe:function(e){$(e).off(".noUiSliderBinding")},receiveMessage:function(e,n){var i=document.getElementById(e.id);n.disable?i.setAttribute("disabled",!0):i.removeAttribute("disabled"),n.hasOwnProperty("range")&&i.noUiSlider.updateOptions({range:{min:n.range[0],max:n.range[1]}}),i.noUiSlider.set(n.value),$(e).trigger("change")},getRatePolicy:function(){return{policy:"debounce",delay:250}},getState:function(e){},initialize:function(e){var n=$(e).parent().find('script[data-for="'+Shiny.$escape(e.id)+'"]');(n=JSON.parse(n.html())).hasOwnProperty("format")&&(n.format=wNumb(n.format)),n.hasOwnProperty("pips")&&(n.pips.hasOwnProperty("format")&&(n.pips.format=wNumb(n.pips.format)),n.pips.hasOwnProperty("size")&&(n.pips.filter=function(e,i){return i>0?n.pips.size:i}));var i=document.getElementById(e.id);"vertical"===n.orientation&&(i.style.margin="0 auto 30px"),noUiSlider.create(i,n)}}),Shiny.inputBindings.register(noUiSliderBinding,"shinyWidgets.noUiSlider");var numericInputIconBinding=new Shiny.InputBinding;function updateLabel(e,n){if(void 0!==e){if(1!==n.length)throw new Error("labelNode must be of length 1");$.isArray(e)&&0===e.length?n.addClass("shiny-label-null"):(n.text(e),n.removeClass("shiny-label-null"))}}$.extend(numericInputIconBinding,{find:function(e){return $(e).find(".numeric-input-icon")},getValue:function(e){var n=$(e).val(),i=$(e).attr("min");i=void 0!==i&&!1!==i?+i:-1/0;var t=$(e).attr("max");return t=void 0!==t&&!1!==t?+t:1/0,/^\s*$/.test(n)?null:(isNaN(n)||(n=+n),n>t?(addError(e),showHelp(e),n=t):n<i?(addError(e),showHelp(e),n=i):(hideHelp(e),removeError(e)),n)},setValue:function(e,n){e.value=n},subscribe:function(e,n){$(e).on("keyup.numericInputIconBinding input.numericInputIconBinding",(function(e){n(!0)})),$(e).on("change.numericInputIconBinding",(function(e){n(!1)}))},unsubscribe:function(e){$(e).off(".numericInputIconBinding")},getType:function(e){return"shiny.number"},receiveMessage:function(e,n){n.hasOwnProperty("value")&&(e.value=n.value),n.hasOwnProperty("min")&&(e.min=n.min),n.hasOwnProperty("max")&&(e.max=n.max),n.hasOwnProperty("step")&&(e.step=n.step),updateLabel(n.label,this._getLabelNode(e)),n.hasOwnProperty("left")&&$(e).prev(".input-group-addon").replaceWith(n.left),n.hasOwnProperty("right")&&$(e).next(".input-group-addon").replaceWith(n.right),$(e).trigger("change")},getState:function(e){return{label:this._getLabelNode(e).text(),value:this.getValue(e),min:Number(e.min),max:Number(e.max),step:Number(e.step)}},_getLabelNode:function(e){return $(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]')}}),Shiny.inputBindings.register(numericInputIconBinding,"shinyWidgets.numericInputIcon");var textInputIconBinding=new Shiny.InputBinding;$.extend(textInputIconBinding,{find:function(e){return $(e).find(".text-input-icon")},getValue:function(e){return e.value},setValue:function(e,n){e.value=n},subscribe:function(e,n){$(e).on("keyup.textInputIconBinding input.textInputIconBinding",(function(e){n(!0)})),$(e).on("change.textInputIconBinding",(function(e){n(!1)}))},unsubscribe:function(e){$(e).off(".textInputIconBinding")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value),updateLabel(n.label,this._getLabelNode(e)),n.hasOwnProperty("placeholder")&&(e.placeholder=n.placeholder),n.hasOwnProperty("left")&&$(e).prev(".input-group-addon").replaceWith(n.left),n.hasOwnProperty("right")&&$(e).next(".input-group-addon").replaceWith(n.right),$(e).trigger("change")},getState:function(e){return{label:this._getLabelNode(e).text(),value:e.value,placeholder:e.placeholder}},getRatePolicy:function(){return{policy:"debounce",delay:250}},_getLabelNode:function(e){return $(e).parent().find('label[for="'+Shiny.$escape(e.id)+'"]')}}),Shiny.inputBindings.register(textInputIconBinding,"shinyWidgets.textInputIcon");var numericRangeInputBinding=new Shiny.InputBinding;$.extend(numericRangeInputBinding,{find:function(e){return $(e).find(".shiny-numeric-range-input")},getValue:function(e){var n=$(e).find("input"),i=n[0].value,t=n[1].value;return[i=/^\s*$/.test(i)?null:isNaN(i)?i:+i,t=/^\s*$/.test(t)?null:isNaN(t)?t:+t]},setValue:function(e,n){e.find("input")[0].value=n[0],e.find("input")[1].value=n[1]},subscribe:function(e,n){$(e).on("change.numericRangeInputBinding",(function(e){n()}))},receiveMessage:function(e,n){var i=$(e);n.hasOwnProperty("value")&&(i.find("input")[0].value=n.value[0]),i.find("input")[1].value=n.value[1],$(e).trigger("change")},unsubscribe:function(e){$(e).off(".numericRangeInputBinding")}}),Shiny.inputBindings.register(numericRangeInputBinding,"wd.numericRangeInputBin"),Shiny.addCustomMessageHandler("update-progressBar-shinyWidgets",(function(e){var n,i=e.id,t=document.getElementById(i),a=document.getElementById(i+"-value"),r=document.getElementById(i+"-total"),o=document.getElementById(i+"-title"),u=e.total,s=Math.round(e.value);u>0?(n=Math.round(s/u*100),null!==a&&(a.innerText=s),null!==r&&(r.innerText=u),s=Math.round(s/u*100)):n=e.percent>0?e.percent:s,t.style.width=n+"%",""!==t.innerText&&(t.innerText=s+e.unit_mark),null!==e.status&&(t.className="",t.classList.add("progress-bar"),t.classList.add("progress-bar-"+e.status)),null!==e.title&&(o.innerText=e.title)}));var searchInputBinding=new Shiny.InputBinding;function forceIonSliderTextUpdate(e){e.$cache&&e.$cache.input?e.$cache.input.trigger("change"):console.log("Couldn't force ion slider to update")}$.extend(searchInputBinding,{find:function(e){return $(e).find(".search-text")},getId:function(e){return $(e).attr("id")},getValue:function(e){return $("#"+Shiny.$escape(e.id)+"_text").val()},setValue:function(e,n){$("#"+Shiny.$escape(e.id)+"_text").val(n)},subscribe:function(e,n){$("#"+Shiny.$escape(e.id)+"_text").on("keyup.searchInputBinding input.searchInputBinding",(function(e){13==e.keyCode&&n()})),$("#"+Shiny.$escape(e.id)+"_search").on("click",(function(e){n()})),$("#"+Shiny.$escape(e.id)+"_reset").on("click",(function(i){if("TRUE"==$("#"+Shiny.$escape(e.id)).data("reset")){var t=$("#"+Shiny.$escape(e.id)).data("reset-value");$("#"+Shiny.$escape(e.id)+"_text").val(t)}n()}))},unsubscribe:function(e){$(e).off(".searchInputBinding")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("label")&&$(e).parent().find('label[for="'+e.id+'"]').text(n.label),n.hasOwnProperty("placeholder")&&($("#"+e.id+"_text")[0].placeholder=n.placeholder),n.trigger&&$("#"+e.id+"_search").click(),$(e).trigger("change")},getState:function(e){return{value:this.getValue(e)}},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(searchInputBinding,"shinyWidgets.searchInput");var sliderTextBinding=new Shiny.InputBinding;$.extend(sliderTextBinding,{find:function(e){return $.fn.ionRangeSlider?$(e).find(".sw-slider-text"):[]},getType:function(e){var n=$(e).data("data-type");return"date"===n?"shiny.date":"datetime"===n&&"shiny.datetime"},getValue:function(e){var n=$(e).data("ionRangeSlider"),i=n.result,t=n.options.values;return 2===this._numValues(e)?[t[i.from],t[i.to]]:t[i.from]},setValue:function(e,n){var i=$(e),t=i.data("ionRangeSlider");i.data("immediate",!0);try{2===this._numValues(e)&&n instanceof Array?t.update({from:n[0],to:n[1]}):t.update({from:n}),forceIonSliderTextUpdate(t)}finally{i.data("immediate",!1)}},subscribe:function(e,n){$(e).on("change.sliderInputBinding",(function(i){n(!$(e).data("immediate")&&!$(e).data("animating"))}))},unsubscribe:function(e){$(e).off(".sliderInputBinding")},receiveMessage:function(e,n){var i=$(e),t=i.data("ionRangeSlider"),a={},r=t.options.values;n.hasOwnProperty("choices")&&(a.values=n.choices,r=n.choices),n.hasOwnProperty("selected")&&(2===this._numValues(e)&&n.selected instanceof Array?(a.from=r.indexOf(n.selected[0]),a.to=r.indexOf(n.selected[1])):a.from=r.indexOf(n.selected)),n.hasOwnProperty("from_fixed")&&(a.from_fixed=n.from_fixed),n.hasOwnProperty("to_fixed")&&(a.to_fixed=n.to_fixed),n.hasOwnProperty("label")&&i.parent().find('label[for="'+Shiny.$escape(e.id)+'"]').text(n.label),i.data("immediate",!0);try{t.update(a),forceIonSliderTextUpdate(t)}finally{i.data("immediate",!1)}},getRatePolicy:function(){return{policy:"debounce",delay:250}},getState:function(e){},initialize:function(e){var n={},i=$(e),t=$(e).data("swvalues");n.values=t,i.ionRangeSlider(n)},_numValues:function(e){return"double"===$(e).data("ionRangeSlider").options.type?2:1}}),Shiny.inputBindings.register(sliderTextBinding,"shiny.sliderText");var spectrumInputBinding=new Shiny.InputBinding;$.extend(spectrumInputBinding,{find:function(e){return $(e).find(".sw-spectrum")},getId:function(e){return $(e).attr("id")},getValue:function(e){return $(e).spectrum("get").toHexString()},setValue:function(e,n){$(e).spectrum("set",n)},subscribe:function(e,n){$(e).on("change",(function(e){n()}))},unsubscribe:function(e){$(e).off(".spectrumInputBinding")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value),$(e).trigger("change")},getState:function(e){return{value:this.getValue(e)}},initialize:function(e){var n={},i=$(e).attr("data-update-on");$(e).removeAttr("data-update-on"),"dragstop"==i&&$(e).on("dragstop.spectrum",(function(n){$(e).trigger("change")})),"move"==i&&(n.move=function(){$(e).trigger("change")}),"change"==i&&(n.change=function(){$(e).trigger("change")}),$(e).spectrum(n)},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(spectrumInputBinding,"shinyWidgets.spectrumInput");var dropMenuInputBinding=new Shiny.InputBinding;$.extend(dropMenuInputBinding,{find:function(e){return $(e).find(".drop-menu-input")},getId:function(e){return e.id},getValue:function(e){return this["instance"+e.id].state.isShown},setValue:function(e,n){},subscribe:function(e,n){var i=this["onHidden"+e.id];this["instance"+e.id].setProps({onShown:function(e){n()},onHidden:function(e){i(e),n()}})},unsubscribe:function(e){$(e).off(".dropMenuInputBinding")},receiveMessage:function(e,n){n.hasOwnProperty("action")&&("enable"==n.action&&this["instance"+e.id].enable(),"disable"==n.action&&this["instance"+e.id].disable(),"show"==n.action&&this["instance"+e.id].show(),"hide"==n.action&&this["instance"+e.id].hide())},getState:function(e){},initialize:function(e){var n=document.getElementById(e.id),i=n.querySelector('script[data-for="'+e.id+'"]');i=JSON.parse(i.innerHTML);var t=document.getElementById(n.dataset.target);i.options.interactive=!0,i.options.onShow=function(e){var i=document.getElementById(n.dataset.template);i.style.display="block",Shiny.bindAll(i,!0),e.setContent(i)},this["onHidden"+e.id]=function(e){var i=e.props.content;i.style.display="none",n.appendChild(i),e.setContent("")},this["instance"+e.id]=tippy(t,i.options)}}),Shiny.inputBindings.register(dropMenuInputBinding,"shinyWidgets.dropMenuInput");var shinyMode=void 0!==window.Shiny&&!!window.Shiny.inputBindings;if(shinyMode){var VerticalTabInputBinding=new Shiny.InputBinding;$.extend(VerticalTabInputBinding,{find:function(e){return $(e).find(".vertical-tab-panel")},getId:function(e){return e.id},getValue:function(e){return $(e).find(".active").attr("data-value")},setValue:function(e,n){},receiveMessage:function(e,n){var i=$(e);if(n.hasOwnProperty("value"))i.find("[data-value='"+n.value+"']").click();else if(n.hasOwnProperty("validate"))0===i.children(".active").length&&i.children().length>0&&i.children().last().click();else if(n.hasOwnProperty("reorder")){var t=i.children();t.detach(),i.append($.map(n.reorder,(function(e){return t[e-1]})))}},subscribe:function(e,n){$(e).on("click",(function(e){n()}))},unsubscribe:function(e){$(e).off(".VerticalTabInputBinding")}}),Shiny.inputBindings.register(VerticalTabInputBinding,"shiny.VerticalTabInput")}
